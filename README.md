# Von Dutch (B-side)

#### Консольное приложение "Von Dutch" – Проект №2 на C#, реализующий систему перевода с управлением словарями. Проект разделён на базовую и расширенную (B-side) части. Текст задания доступен в файле [ссылка](Project4.pdf)

---

## Оглавление
- [0. Автор](#0-автор)
- [1. Выбранная ветка](#1-выбранная-ветка)
- [2. Формат входных файлов](#2-формат-входных-файлов)
- [3. Общее описание меню](#3-общее-описание-меню)
- [4. Описание структуры проекта](#4-описание-структуры-проекта)
- [5.1. Описание решения по пунктам. Базовая часть](#51-описание-решения-по-пунктам-базовая-часть)
- [5.2. Описание решения по пунктам. Расширенная (B-side) часть](#52-описание-решения-по-пунктам-расширенная-b-side-часть)
- [7. Использование AI](#7-использование-ai)

---

## 0. Автор

### [censored]

### Группа [censored]

### Вариант 7

### [censored]

---

## 1. Выбранная ветка

### `B-side`

---

## 2. Формат входных файлов

**Формат:** Текстовые файлы (TXT)  
**Структура файлов:**

- **Первая строка:** Название языковой пары (например, "English-Russian").
- **Последующие строки:** Пары "слово:перевод".  
  Если для слова предусмотрено несколько вариантов перевода, они разделяются запятой.  
  **Пример содержимого файла:**

> English-Russian
>
>hello:привет,здравствуйте
>
>world:мир
>
>cat:кот


Путь к папке со словарями запрашивается у пользователя при первом запуске, и приложение проверяет наличие файлов с
обработкой ошибок. Лучше хранить файлы по пути `Project4/bin/Debug/net8.0/Languages`. Изначально там хранятся тестовые данные для перевода

---

## 3. Общее описание меню

**Основное меню приложения** создано с использованием библиотеки Spectre.Console для обеспечения интерактивного и
красивого интерфейса.  
**Основные пункты меню:**

,
"Редактировать базу данных",
"Выбрать языковую пару",
"",
"",
""

- **"Просмотр текущего словаря":** Выводит информацию в требуемом формате (таблица/перевод одного слова/просмотр текущей
  языковой пары/история переводов)* (См. `Display.cs`)*
- **Редактировать базу данных:** Позволяет добавлять/удалять/изменять переводы слов *(См. `Menu.cs`, `MenuMagager.cs`)*
- **Продвинутый перевод предложения с *Nestor.API*:** Выполняет контекстный перевод с русского на английский, переводя
  слово в начальную форму (Пример: `котом` -> `кот`) *(См. `Database.cs` и `AdvancedTranslator.sc`)*
- **Голосовой ввод/вывод:** Пункт решающий задачу голосового ввода/вывода. Необходим API_TOKEN *(
  См. `SpeechManager.cs`)*
- **Дополнительная задача:**  
  Предоставляет выбор между:
  - **Контекстным переводом** – позволяет выбрать перевод слова с несколькими вариантами с учётом контекста. *(
    См. `ContextTranslator.cs`)*
  - **Обучением словаря** – позволяет оценить правильность перевода и внести корректировки. *(
    См. `DictionaryTrainer.cs`)*
- **Голосовой ввод/вывод:** Реализует распознавание речи и синтез перевода. *(См. `SpeechManager.cs`)*
- **Редактирование базы данных:** Добавление, редактирование или удаление слов в словаре. *(См. `Menu.cs`
  и `Wordbook.cs`)*
- **Выбор языковой пары:** Позволяет выбрать активную языковую пару для перевода. *(См. `Menu.cs` и `Database.cs`)*

---

## 4. Описание структуры проекта

Проект организован в нескольких директориях и файлах:

- **/Lib** – основная библиотека проекта:
  - **Database.cs:** Управляет коллекцией словарей, выбор текущей языковой пары, операции перевода.
  - **Wordbook.cs:** Представляет словарь для одной языковой пары (набор пар «слово-перевод» с поддержкой нескольких
    вариантов перевода).
  - **FileManager.cs:** Отвечает за чтение и запись файлов словарей.
  - **Menu.cs:** Содержит интерактивное меню и обработку пользовательского ввода для управления функционалом
    приложения.
  - **Display.cs:** Отвечает за вывод информации в консоль (таблицы, история, переводы).
  - **AdvancedTranslator.cs:** Реализует продвинутый перевод фраз с использованием простых правил морфологии и
    синтаксиса.
  - **SpeechManager.cs:** Обеспечивает голосовой ввод и вывод с использованием Microsoft CognitiveServices Speech.
  - **ContextTranslator.cs:** Реализует базовый контекстный перевод, предлагая выбор варианта перевода для
    неоднозначных слов.
  - **DictionaryTrainer.cs:** Позволяет пользователю обучать словарь, корректируя неверные переводы через систему
    «верно/неверно».
  - **ConsoleManager.cs:** Утилита для вывода сообщений, предупреждений и цветного форматирования в консоли.
  - **StartAndEndManager.cs:** Управляет запуском и завершением приложения (инициализация и сохранение словарей).

- **/API_TOKENS** – папка, где хранятся текстовые файлы с ключами для голосового ввода/вывода (`speech_key.txt` и
  `speech_region.txt`).

- **/Project4.sln** – файл решения для Visual Studio/Rider.

---

## 5.1. Описание решения по пунктам. Базовая часть

**1.1 Хранение данных о словарях**

- **Поддержка нескольких языковых пар:**  
  Приложение работает с не менее чем тремя языковыми парами (например, Английский–Русский, Испанский–Английский,
  Французский–Английский).  
  *Код: `Database.cs`, `Wordbook.cs`.*

- **Структура словаря:**  
  Каждый словарь хранит набор пар «слово–перевод» (в нашем случае – слово и один или несколько вариантов перевода).  
  *Код: `Wordbook.cs`.*

- **Чтение и запись:**  
  Словари считываются из текстовых файлов при запуске, путь к папке запрашивается у пользователя, файлы проверяются на
  наличие с обработкой ошибок.  
  *Код: `FileManager.cs`.*

**1.2 Возможности для пользователя**

- **Выбор текущей языковой пары:**  
  Пользователь может выбрать активную языковую пару для перевода.  
  *Код: `Menu.cs`, `Database.cs`.*

- **Перевод слова или фразы:**  
  Пользователь вводит слово/фразу, приложение ищет перевод в словаре и выводит результат в консоль.  
  *Код: `Database.cs`, `Display.cs`.*

- **Добавление, редактирование и удаление слов:**  
  Приложение позволяет добавлять новые записи, редактировать существующие и удалять слова из словаря.  
  *Код: `Menu.cs`, `Wordbook.cs`.*

- **Вывод информации:**  
  Все переводы, словари и история действий выводятся в консоль в удобном табличном формате.  
  *Код: `Display.cs`.*

- **Сохранение изменений:**  
  Все внесённые изменения в словарях сохраняются обратно в файлы при завершении работы приложения.  
  *Код: `FileManager.cs`.*

---

## 5.2. Описание решения по пунктам. Расширенная (B-side) часть

**2.1 Визуализация**

- **Интерактивное меню и таблицы:**  
  Для создания красивого и интерактивного интерфейса используется Spectre.Console, что позволяет выводить меню, словари
  и историю переводов в виде таблиц с прокруткой и стилизацией.  
  *Код: `Menu.cs`, `Display.cs`.*

**2.2 Продвинутый перевод фраз**

- **Улучшенный перевод:**  
  Реализован перевод фраз с учетом простых правил морфологии и синтаксиса (например, использование базового
  морфологического анализа для выбора базовой формы слова).  
  *Код: `AdvancedTranslator.cs`.*

**2.3 Голосовой ввод и вывод**

- **Распознавание и синтез речи:**  
  Приложение может распознавать речь для ввода слова или фразы и озвучивать перевод, используя возможности Microsoft
  CognitiveServices Speech (с учетом кроссплатформенной работы).  
  *Код: `SpeechManager.cs`.*

**2.4 Дополнительные задачи**

- **Контекстный перевод:**  
  При обнаружении нескольких вариантов перевода для одного слова система, используя простые правила и примеры,
  предлагает пользователю выбрать подходящий перевод в зависимости от контекста введённой фразы.  
  *Код: `ContextTranslator.cs`.*

- **Обучение словаря:**  
  Приложение позволяет пользователю оценивать переводы (верно/неверно). В случае неверного перевода пользователь может
  ввести корректное значение, и словарь будет обновлён для улучшения качества переводов со временем.  
  *Код: `DictionaryTrainer.cs`.*

---

## 7. Использование AI

С целью упрощения разработки некоторые фрагменты кода/файлы были сгенерированы при помощи генеративной модели
ChatGpt-4-turbo.

*Вот все места, в которых был задействован код/файлы, составленный генеративной моделью*

Базовые файлы с изначальной базой данных в папке `Languages` (файлы: `English-French.txt`, `English-Russian.txt`,
`Russian-Japanese.txt`)

Класс `MorphResult` в файле `AdvancedTranslator`

Метод `InitializeSampleData` в классе `Database`

---

---
